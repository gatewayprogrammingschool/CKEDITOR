<html lang="en">

<head>
    <meta charset="utf-8">
    <title>BB</title>
    <base href="https://polite-water-0f0b93410.1.azurestaticapps.net/">
    <script src="/ckeditor.js"></script>
    <script src="/samples/js/sample.js"></script>
    <link rel="stylesheet" href="/samples/css/samples.css">
    <link rel="stylesheet" href="/samples/toolbarconfigurator/lib/codemirror/neo.css">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <script type="text/javascript">
        //Define an init function that sends the rich text editor contents to the page code
        function init() {
            //onMessage runs when the HTML element receives a message from the page code
            window.onmessage = (event) => {
                if (event.data) {
                    const text = event.data;
                    if (text !== " ") {
                        console.log(`received: ${text}`);
                        if (text !== "üëçüèº") {
                            CKEDITOR.instances.CK1.setData(text);
                            CKEDITOR.instances.CK1.setData(text);
                            console.log(CKEDITOR.instances.CK1.getData());
                        } else {
                            CKEDITOR.instances.CK1.setData("");
                            CKEDITOR.instances.CK1.setData("");
                        }
                    } else {
                        const text = CKEDITOR.instances.CK1.getData();
                        console.log(text);
                        window.parent.postMessage(text, "*");
                    }
                }
            }
        }

    </script>
</head>

<body id="main" onload="init();">
    <main>
        <div class="grid-container">
            <div class="grid-width-100">
                <div id="editor1">
                </div>
            </div>
        </div>
    </main>
        <script>
            //Use the CKEditor replace() function to turn our textarea into a CKEditor rich text editor
            let config = {
                width: '100%',
                height: '100%'
            };
            CKEDITOR.on('instanceReady', function (e) {
                document.querySelector("a.cke_button__maximize").click();
            });
            CKEDITOR.replace("editor1", config);
        </script>
    <!-- <script>
        initSample();

    </script> -->
</body>

</html>
